<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNI CAFE UATV</title>

<style>
:root{
--cafe-oscuro:#a56232;
--cafe-medio:#b87342;
--cafe-claro:#e6c1a1;
}
*{box-sizing:border-box;font-family:Arial;margin:0;padding:0}
body{background:var(--cafe-claro)}
header{background:var(--cafe-oscuro);padding:20px;color:white}
nav a{background:var(--cafe-medio);color:white;padding:10px 18px;border-radius:20px;text-decoration:none;margin-right:10px}
section{padding:40px;max-width:1200px;margin:auto}
.card img{width:100%;height:160px;object-fit:cover;border-radius:10px}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
@media(max-width:768px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:480px){.grid{grid-template-columns:1fr}}
.card{background:white;padding:20px;border-radius:15px;text-align:center;box-shadow:0 5px 10px rgba(0,0,0,.2)}
button{background:var(--cafe-medio);color:white;border:none;padding:8px 15px;border-radius:10px;cursor:pointer}
#carrito{position:fixed;right:20px;top:120px;background:white;width:280px;padding:15px;border-radius:15px;box-shadow:0 5px 10px rgba(0,0,0,.3)}
#lista li{list-style:none;margin-bottom:10px}
.cantidad button{padding:3px 8px;margin:0 5px}
</style>
</head>

<body>

<header>
<h1>UNI CAFE UATV</h1><br>
<nav> 
<a href="#desayunos">Desayunos</a>
<a href="#comida">Comida</a>
<a href="#bebida">Bebida</a>
<a href="#postres">Postres</a>
<a href="#golocinas">Golocinas</a>
<a href="#fruta">Fruta</a>
</nav>
</header>

<div id="carrito">
<h3>ðŸ›’ Carrito</h3>
<ul id="lista"></ul>
<p>Total: $<span id="total">0</span></p>
<button onclick="pagar()">Pagar</button>
</div>

<!-- ðŸ”½ðŸ”½ðŸ”½ TUS SECCIONES (SIN CAMBIOS) ðŸ”½ðŸ”½ðŸ”½ -->

<!-- DESAYUNOS -->
<section id="desayunos">
<h2>Desayunos</h2>
<div class="grid">
<div class="card"><img src="./hot.webp"><h3>Hot Cakes</h3><p>$25</p><button onclick="agregar('Hot Cakes',25)">Agregar</button></div>
<div class="card"><img src="./jugos.jpg"><h3>Jugos Naturales</h3><p>$20</p><button onclick="agregar('Jugos Naturales',20)">Agregar</button></div>
<div class="card"><img src="./yogurt.webp"><h3>Yogurth</h3><p>$15</p><button onclick="agregar('Yogurth',15)">Agregar</button></div>
<div class="card"><img src="./pan.jpg"><h3>CafÃ© con Pan</h3><p>$30</p><button onclick="agregar('CafÃ© con Pan',30)">Agregar</button></div>
<div class="card"><img src="./donas.webp"><h3>Donas</h3><p>$15</p><button onclick="agregar('Donas',15)">Agregar</button></div>
<div class="card"><img src="./huevo.jpg"><h3>Pan Tostado con Huevo</h3><p>$20</p><button onclick="agregar('Pan Tostado con Huevo',20)">Agregar</button></div>
</div>
</section>

<!-- COMIDA -->
<section id="comida">
<h2>Comida</h2>
<div class="grid">
<div class="card"><img src="./bistec.jpg"><h3>Bistec en salsa verde</h3><p>$50</p><button onclick="agregar('Bistec en salsa verde',50)">Agregar</button></div>
<div class="card"><img src="./chalupitas.jpg"><h3>Chalupitas con pollo</h3><p>$40</p><button onclick="agregar('Chalupitas con pollo',40)">Agregar</button></div>
<div class="card"><img src="./aloz.jpg"><h3>Arroz chino con alitas</h3><p>$50</p><button onclick="agregar('Arroz chino con alitas',50)">Agregar</button></div>
<div class="card"><img src="./camarones.jpg"><h3>Camarones a la diabla</h3><p>$50</p><button onclick="agregar('Camarones a la diabla',50)">Agregar</button></div>
<div class="card"><img src="./enchiladas.webp"><h3>Enchiladas verdes</h3><p>$35</p><button onclick="agregar('Enchiladas verdes',35)">Agregar</button></div>
<div class="card"><img src="./chilaquiles.jpg"><h3>Chilaquiles</h3><p>$50</p><button onclick="agregar('Chilaquiles',50)">Agregar</button></div>
</div>
</section>

<!-- BEBIDA -->
<section id="bebida">
<h2>Bebida</h2>
<div class="grid">
<div class="card"><img src="./boing.webp"><h3>Jugo Boing</h3><p>$20</p><button onclick="agregar('Jugo Boing',20)">Agregar</button></div>
<div class="card"><img src="./agua.jpg"><h3>Aguas Frescas</h3><p>$15</p><button onclick="agregar('Aguas Frescas',15)">Agregar</button></div>
<div class="card"><img src="./coca.jpg"><h3>Coca-Cola</h3><p>$25</p><button onclick="agregar('Coca-Cola',25)">Agregar</button></div>
<div class="card"><img src="./cafe.jpg"><h3>CafÃ© FrÃ­o</h3><p>$25</p><button onclick="agregar('CafÃ© FrÃ­o',25)">Agregar</button></div>
<div class="card"><img src="./skarch.jpg"><h3>Agua Skarch</h3><p>$15</p><button onclick="agregar('Agua Skarch',15)">Agregar</button></div>
<div class="card"><img src="./lata.webp"><h3>Refresco en lata</h3><p>$20</p><button onclick="agregar('Refresco en lata',20)">Agregar</button></div>
</div>
</section>

<!-- POSTRES -->
<section id="postres">
<h2>Postres</h2>
<div class="grid">
<div class="card"><img src="./choco.jpg"><h3>Chocoflan</h3><p>$25</p><button onclick="agregar('Chocoflan',25)">Agregar</button></div>
<div class="card"><img src="./flan.jpg"><h3>Flan</h3><p>$15</p><button onclick="agregar('Flan',15)">Agregar</button></div>
<div class="card"><img src="./pay.jpg"><h3>Pay de Queso</h3><p>$25</p><button onclick="agregar('Pay de Queso',25)">Agregar</button></div>
<div class="card"><img src="./crema.jpg"><h3>Fresas con Crema</h3><p>$25</p><button onclick="agregar('Fresas con Crema',25)">Agregar</button></div>
<div class="card"><img src="./panque.jpg"><h3>Muffin de Chocolate</h3><p>$25</p><button onclick="agregar('Muffin de Chocolate',25)">Agregar</button></div>
<div class="card"><img src="./relleno.jpg"><h3>Pay relleno</h3><p>$25</p><button onclick="agregar('Pay relleno',25)">Agregar</button></div>
</div>
</section>

<!-- GOLOSINAS -->
<section id="golocinas">
<h2>Golocinas</h2>
<div class="grid">
<div class="card"><img src="./chidas.jpg"><h3>Papas CHIDAS</h3><p>$25</p><button onclick="agregar('Papas CHIDAS',25)">Agregar</button></div>
<div class="card"><img src="./bubulubu.jpg"><h3>Bubulubu</h3><p>$5</p><button onclick="agregar('Bubulubu',5)">Agregar</button></div>
<div class="card"><img src="./chicle.webp"><h3>Chicles Trident</h3><p>$20</p><button onclick="agregar('Chicles Trident',20)">Agregar</button></div>
<div class="card"><img src="./gomita.jpg"><h3>Gomitas DelfÃ­n</h3><p>$15</p><button onclick="agregar('Gomitas DelfÃ­n',15)">Agregar</button></div>
<div class="card"><img src="./mango.jpg"><h3>Gomitas de Mango</h3><p>$15</p><button onclick="agregar('Gomitas de Mango',15)">Agregar</button></div>
<div class="card"><img src="./pistache.webp"><h3>Pistaches</h3><p>$10</p><button onclick="agregar('Pistaches',10)">Agregar</button></div>
</div>
</section>

<!-- FRUTA -->
<section id="fruta">
<h2>Fruta</h2>
<div class="grid">
<div class="card"><img src="./vaso.png"><h3>CÃ³ctel de frutas</h3><p>$25</p><button onclick="agregar('CÃ³ctel de frutas',25)">Agregar</button></div>
</div>
</section>

<script>
let carrito = [];
let ticket = localStorage.getItem("ticket");
ticket = ticket ? parseInt(ticket) : 1;

// ðŸ‘¤ Usuario desde index
const params = new URLSearchParams(window.location.search);
if(params.get("usuario")){
  localStorage.setItem("usuario", params.get("usuario"));
}
const usuario = localStorage.getItem("usuario") || "Cliente";

// ðŸ“… Fecha y hora
function obtenerFechaHora(){
  const ahora = new Date();
  return {
    fecha: ahora.toLocaleDateString(),
    hora: ahora.toLocaleTimeString()
  };
}

function agregar(nombre, precio){
  let prod = carrito.find(p => p.nombre === nombre);
  if(prod){ prod.cantidad++; }
  else{ carrito.push({nombre, precio, cantidad:1}); }
  mostrarCarrito();
}

function cambiarCantidad(nombre, cambio){
  let prod = carrito.find(p => p.nombre === nombre);
  prod.cantidad += cambio;
  if(prod.cantidad <= 0){
    carrito = carrito.filter(p => p.nombre !== nombre);
  }
  mostrarCarrito();
}

function mostrarCarrito(){
  const lista = document.getElementById("lista");
  const totalSpan = document.getElementById("total");
  lista.innerHTML = "";
  let total = 0;

  carrito.forEach(p=>{
    total += p.precio * p.cantidad;
    lista.innerHTML += `
      <li>${p.nombre}
        <div class="cantidad">
          <button onclick="cambiarCantidad('${p.nombre}',-1)">âˆ’</button>
          ${p.cantidad}
          <button onclick="cambiarCantidad('${p.nombre}',1)">+</button>
        </div>
      </li>`;
  });
  totalSpan.textContent = total;
}

function pagar(){
  if(carrito.length === 0){
    alert("El carrito estÃ¡ vacÃ­o");
    return;
  }

  const { fecha, hora } = obtenerFechaHora();
  let mensaje = `ðŸ§¾ UNI CAFE UATV\n\n`;
  mensaje += `Cliente: ${usuario}\n`;
  mensaje += `Fecha: ${fecha}\n`;
  mensaje += `Hora: ${hora}\n`;
  mensaje += `Ticket No: ${ticket}\n\n`;

  carrito.forEach(p=>{
    mensaje += `${p.nombre} x${p.cantidad} = $${p.precio*p.cantidad}\n`;
  });

  mensaje += `\nTOTAL: $${document.getElementById("total").textContent}\n\n`;
  mensaje += `Gracias por su compra ðŸ˜Š`;

  alert(mensaje);

  ticket++;
  localStorage.setItem("ticket", ticket);
  carrito = [];
  mostrarCarrito();
}
</script>

</body>
</html>
